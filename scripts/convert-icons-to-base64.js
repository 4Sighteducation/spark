/**
 * Convert SPARK icons to Base64 for PDF embedding
 * Run once: node scripts/convert-icons-to-base64.js
 */

const fs = require('fs');
const path = require('path');

const icons = [
  { name: 'spark-logo', path: 'public/spark-logo.png' },
  { name: 'self-direction', path: 'public/icon-self-direction.png' },
  { name: 'purpose', path: 'public/icon-purpose.png' },
  { name: 'awareness', path: 'public/icon-awareness.png' },
  { name: 'resilience', path: 'public/icon-resilience.png' },
  { name: 'knowledge', path: 'public/icon-knowledge.png' },
  { name: 'overall', path: 'public/icon-overall.png' },
];

console.log('Converting icons to Base64...\n');

const output = {};

icons.forEach(icon => {
  try {
    const fullPath = path.join(__dirname, '..', icon.path);
    const imageBuffer = fs.readFileSync(fullPath);
    const base64 = imageBuffer.toString('base64');
    output[icon.name] = `data:image/png;base64,${base64}`;
    console.log(`✅ ${icon.name}: ${base64.length} characters`);
  } catch (error) {
    console.log(`❌ ${icon.name}: ${error.message}`);
  }
});

// Write to TypeScript file
const tsContent = `// Auto-generated by scripts/convert-icons-to-base64.js
// DO NOT EDIT MANUALLY

export const iconBase64 = ${JSON.stringify(output, null, 2)}
`;

fs.writeFileSync(
  path.join(__dirname, '..', 'src', 'lib', 'pdf', 'iconBase64.ts'),
  tsContent
);

console.log('\n✅ Generated: src/lib/pdf/iconBase64.ts');
console.log('You can now import and use these in your PDF generator!');

